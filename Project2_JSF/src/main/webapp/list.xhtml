<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="template.xhtml"> 
    
    <ui:define name="title">Course Schedule List</ui:define>

    <ui:define name="content">
        <h2>ตารางเรียน (Course List)</h2>

        <h:messages style="color:red"/>

        <h:link value="+ เพิ่มวิชาเรียนใหม่" outcome="list.xhtml" style="text-decoration:none; color:blue;"/>
        <br/><br/>
        
        <h:form>
            <h:dataTable value="#{courseBean.courseList}" var="c" border="1" cellpadding="10">

                <h:column>
                    <f:facet name="header">รหัสวิชา</f:facet>
                    #{c.courseId}
                </h:column>

                <h:column>
                    <f:facet name="header">ชื่อวิชา</f:facet>
                    #{c.courseName}
                </h:column>

                <h:column>
                    <f:facet name="header">เวลาเรียน</f:facet>
                    #{c.times}
                </h:column>

                <h:column>
                    <f:facet name="header">จัดการ</f:facet>
                    
                    <h:link value="แก้ไข" outcome="edit.xhtml">
                        <f:param name="id" value="#{c.courseId}"/>
                    </h:link>
                    
                    | 
                    
                    <h:commandLink value="ลบ" 
                                   action="#{courseBean.deleteCourse(c.courseId)}"
                                   onclick="return confirm('คุณแน่ใจหรือไม่ว่าต้องการลบวิชานี้?')"
                                   style="color:red"/>
                </h:column>

            </h:dataTable>
        </h:form>
    </ui:define>
</ui:composition>